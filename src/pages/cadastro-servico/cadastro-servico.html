<!--
  Generated template for the CadastroServicoPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar text-center>
    <ion-title>Cadastro</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>

  <h3 text-center>
    {{ titulo }}
  </h3>

  <form padding [formGroup]="cadForm" (submit)="SalvarServico()" novalidate>

    <ion-item>
      <ion-label>Veículo</ion-label>
      <ion-select [(ngModel)]="this.servicoSelect.veiculo" name="veiculo" formControlName="veiculo">
        <ion-option value="{{veic.id}}" *ngFor="let veic of this.veiculo">{{veic.apelido}} - {{veic.modelo}}</ion-option>
      </ion-select>
    </ion-item>
    <h6 *ngIf="errorVeiculo" class="error"> {{messageVeiculo}}</h6>

    <ion-item>
      <ion-label color="primary" stacked>Data do serviço</ion-label>
      <ion-datetime displayFormat="MM/DD/YYYY" [(ngModel)]="this.servicoSelect.data" name="data" formControlName="data"></ion-datetime>
    </ion-item>
    <h6 *ngIf="errorData" class="error"> {{messageData}}</h6>

    <ion-item>
      <ion-label color="primary" floating>Servico</ion-label>
      <ion-input type="text" [(ngModel)]="this.servicoSelect.servico" name="servico" formControlName="servico"></ion-input>
    </ion-item>
    <h6 *ngIf="errorServico" class="error"> {{messageServico}}</h6>

    <ion-item>
      <ion-label color="primary" floating>Mecânica</ion-label>
      <ion-input type="text" [(ngModel)]="this.servicoSelect.mecanica" name="mecanica" formControlName="mecanica"></ion-input>
    </ion-item>
    <h6 *ngIf="errorMecanica" class="error"> {{messageMecanica}}</h6>

    <ion-item>
      <ion-label color="primary" floating>Observação</ion-label>
      <ion-textarea [(ngModel)]="this.servicoSelect.observacao" name="observacao" formControlName="observacao"
        maxlength="498"></ion-textarea>
    </ion-item>
    <h6 *ngIf="errorObservacao" class="error"> {{messageObservacao}}</h6>

    <ion-item>
      <ion-label color="primary" floating>Preço</ion-label>
      <ion-input type="text" [(ngModel)]="this.servicoSelect.preco" name="preco" formControlName="preco" [brmasker]="{ money: true, thousand: '.',  decimalCaracter: ',', decimal: '2'}"
        maxlength="11"></ion-input>
    </ion-item>
    <h6 *ngIf="errorPreco" class="error"> {{messagePreco}}</h6>

    <p text-center>
      <button ion-button color="primary">Salvar</button>
      <!-- (click)="SalvarVeiculo()" -->
    </p>
  </form>

</ion-content>